<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>🧬 Cloroplasto 3D — Fotosíntesis</title>
  <link rel="stylesheet" href="../assets/css/styles.css"/>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <meta name="theme-color" content="#0b1020"/>
  <link rel="manifest" href="../manifest.json"/>
</head>
<body>
  





<header class="header">
  <div class="container bar bar-3col">
    <div class="logo">
      <div class="mark" title="Fotosíntesis — AR">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2c-3 5-3 8 0 12 3-4 3-7 0-12zm-1 12c-5 3-8 3-9 8 5-1 6-4 9-8zm2 0c3 4 4 7 9 8-1-5-4-5-9-8z"/></svg>
      </div>
      <strong id="titleApp">Fotosíntesis — AR Biología</strong>
    </div>
    <nav class="nav nav-center">
      <a class="btn" id="navHome" href="../index.html" aria-label="Home / Inicio">🏠 <span class="label">Inicio</span></a>
      <a class="btn blue" id="navProceso" href="./proceso.html" aria-label="Proceso / Process">🌿 <span class="label">Proceso</span></a>
      <a class="btn primary" id="navEcuacion" href="./ecuacion.html" aria-label="Ecuación / Equation">🧪 <span class="label">Ecuación</span></a>
      <a class="btn orange" id="navCloroplasto" href="./cloroplasto.html" aria-label="Cloroplasto 3D / Chloroplast 3D">🧬 <span class="label">Cloroplasto 3D</span></a>
      <a class="btn pink" id="navInteractivo" href="./interactive.html" aria-label="Interactivo / Interactive">🎮 <span class="label">Interactivo</span></a>
      <a class="btn" id="navRecursos" href="./recursos.html" aria-label="Recursos / Resources">📥 <span class="label">Recursos</span></a>
      <a class="btn" id="navAR" href="./ar.html" aria-label="AR">🅰️🆁 <span class="label">AR</span></a>
    </nav>
    <div class="utils">
      <a class="btn" id="navAyuda" data-modal="help" aria-label="Ayuda / Help">❓ <span class="label">Ayuda</span></a>
      <a class="btn" id="btnES" href="?lang=es" title="Español" aria-label="Español"><span class="label">ES</span></a>
      <a class="btn" id="btnEN" href="?lang=en" title="English" aria-label="English"><span class="label">EN</span></a>
    </div>
  </div>
</header>






  <main class="container">
    <h2 class="section-title">🧬 <span class="label">Cloroplasto 3D</span></h2>
    <div class="grid">
      <div class="card card--lg">
        <p>Arrastra un archivo <code class="snip">.glb</code> al panel inferior o usa el botón para cargar. Recomiendo modelos: cloroplasto, membrana de tilacoide o ATP sintasa.</p>
        <div id="drop" class="notice" style="margin-top:10px">
          <strong>📥 Suelta tu .glb aquí</strong> o <button class="btn" id="pick">📂 Elegir archivo</button>
          <input type="file" id="file" accept=".glb,.gltf" style="display:none"/>
        </div>
        <div style="margin-top:12px;border-radius:16px;overflow:hidden;border:1px solid #22304d;background:#0a0f22;position:relative">
          <model-viewer id="viewer" src="/assets/models/fotosintesis__bella_denisa.glb" ar ar-modes="webxr scene-viewer quick-look" camera-controls auto-rotate tone-mapping="neutral" exposure="1.1" style="width:100%;height:520px;background:#0a0f22" camera-orbit="0deg 65deg 2.2m" min-camera-orbit="auto auto 0.5m" max-camera-orbit="auto auto 10m" min-field-of-view="15deg" max-field-of-view="60deg" interaction-prompt="auto" interaction-policy="always"></model-viewer>
        
        <div style="margin-top:10px;display:flex;gap:8px;justify-content:flex-end">
          <button class="btn" id="btnResetModel">🔄 Recentrar</button>
        
          <div id="viewerSkeleton" style="position:absolute;inset:0;display:grid;place-items:center;pointer-events:none">
            <div class="kpi"><span class="emoji">⏳</span> <span>Cargando modelo…</span></div>
          </div>
        </div>
      </div>
    </div>
  </main>
  

<footer class="footer container">
  <div class="grid">
    <div class="card card--lg">
      <div class="kpi" style="margin-bottom:8px">
        <span class="emoji">👩‍🏫</span>
        <span><strong>Belén Acuña (PIE)</strong> — 📧 <strong>belen.acpe@gmail.com</strong> · 📞 <strong>+56 9 6266 4960</strong></span>
      </div>
      <div class="kpi" style="margin-bottom:8px">
        <span class="emoji">👨‍💻</span>
        \1 · 📞 <strong>+56 9 2002 7992</strong></span>
      </div>
      <p style="margin-top:8px">Hecho con ❤️ para el Liceo Bicentenario de Excelencia Polivalente San Nicolás — Proyecto AR educativo.</p>
    </div>
  </div>
</footer>


  <script src="../assets/js/loader.js"></script>

<div class="modal" id="help">
  <div class="panel">
    <h3 class="title-i18n" style="margin:0 0 8px">Ayuda</h3>
    <p class="body-i18n">Usa el menú para navegar. En “Cloroplasto 3D” puedes arrastrar y soltar un archivo .glb. Cambia el idioma con ES/EN en la barra superior.</p>
    <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
      <button class="btn" data-close>Cerrar</button>
    </div>
  </div>
</div>

  <script src="/assets/js/i18n.js"></script>

  <script>
  if('serviceWorker' in navigator){
    window.addEventListener('load', ()=>{
      navigator.serviceWorker.register('../service-worker.js').catch(()=>{});
    });
  }
  </script>

<div class="sys-banner" id="sysBanner" role="status" aria-live="polite">
  <div class="msg" id="sysBannerMsg">You are offline.</div>
  <div class="actions">
    <button class="btn" id="btnRetry">🔄 Reintentar</button>
    <button class="btn" id="btnDismiss">✖</button>
    <button class="btn primary" id="btnInstall" style="display:none">⬇️ Instalar</button>
  </div>
</div>
</body>
</html>
