<!DOCTYPE html>
<html lang="es" data-pagetype=\"ar\">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>ğŸ…°ï¸ğŸ† AR â€” FotosÃ­ntesis</title>
  <link rel="stylesheet" href="../assets/css/styles.css"/>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/aframe/build/aframe-ar.min.js"></script>
  <meta name="theme-color" content="#0b1020"/>
  <link rel="manifest" href="../manifest.json"/>
</head>
<body style="margin:0; overflow:hidden;">
  






<header class="header">
  <div class="container bar bar-3col">
    <div class="logo">
      <div class="mark" title="FotosÃ­ntesis â€” AR">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2c-3 5-3 8 0 12 3-4 3-7 0-12zm-1 12c-5 3-8 3-9 8 5-1 6-4 9-8zm2 0c3 4 4 7 9 8-1-5-4-5-9-8z"/></svg>
      </div>
      <strong id="titleApp">FotosÃ­ntesis â€” AR BiologÃ­a</strong>
    </div>
    <nav class="nav nav-center">
      <a class="btn" id="navHome" href="../index.html">ğŸ  Inicio</a>
      <a class="btn blue" id="navProceso" href="./proceso.html">ğŸŒ¿ Proceso</a>
      <a class="btn primary" id="navEcuacion" href="./ecuacion.html">ğŸ§ª EcuaciÃ³n</a>
      <a class="btn orange" id="navCloroplasto" href="./cloroplasto.html">ğŸ§¬ Cloroplasto 3D</a>
      <a class="btn pink" id="navInteractivo" href="./interactive.html">ğŸ® Interactivo</a>
      <a class="btn" id="navAR" href="./ar.html">ğŸ…°ï¸ğŸ† AR</a>
    </nav>
    <div class="utils top-right">
      <a class="btn" id="navAyuda" data-modal="help">â“ <span class="label">Ayuda</span></a>
      <a class="btn" id="btnES" href="?lang=es" title="EspaÃ±ol"><span class="label">ES</span></a>
      <a class="btn" id="btnEN" href="?lang=en" title="English"><span class="label">EN</span></a>
    </div>
  </div>
</header>







  <main class="container">
    <h2 class="section-title">ğŸ…°ï¸ğŸ† Vista AR</h2>
    <p>Apunta al marcador <code class="snip">hiro</code>. Reemplaza la ruta del modelo en el cÃ³digo si deseas cargar tu propio <strong>.glb</strong>.</p>
  </main>
  <a-scene class="ar-fullbleed" embedded vr-mode-ui="enabled: true" embedded arjs="sourceType: webcam; debugUIEnabled: false;">
    <a-marker preset="hiro">
      <a-entity gltf-model="../assets/models/fotosintesis__bella_denisa.glb" scale="0.4 0.4 0.4"></a-entity>
    </a-marker>
    <a-entity camera></a-entity>
  </a-scene>

<div class="modal" id="help">
  <div class="panel">
    <h3 class="title-i18n" style="margin:0 0 8px">Ayuda</h3>
    <p class="body-i18n"></p>
    <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px"><button class="btn" data-close>Cerrar</button></div>
  </div>
  </div>
</div>

  <script src="/assets/js/i18n.js"></script>

<div class="modal" id="helpAR">
  <div class="panel">
    <h3>Ayuda AR/VR</h3>
    <p>Si tu navegador pide permisos de cÃ¡mara o movimiento, acÃ©ptalos. En iOS, habilita â€œMovimiento y orientaciÃ³nâ€.</p>
    <div style="display:flex;justify-content:flex-end"><button class="btn" data-close>Cerrar</button></div>
  </div>
</div>


  <script>
  if('serviceWorker' in navigator){
    window.addEventListener('load', ()=>{
      navigator.serviceWorker.register('../service-worker.js').catch(()=>{});
    });
  }
  </script>

<div class="sys-banner" id="sysBanner" role="status" aria-live="polite">
  <div class="msg" id="sysBannerMsg">You are offline.</div>
  <div class="actions">
    <button class="btn" id="btnRetry">ğŸ”„ Reintentar</button>
    <button class="btn" id="btnDismiss">âœ–</button>
    <button class="btn primary" id="btnInstall" style="display:none">â¬‡ï¸ Instalar</button>
  </div>
</div>

<script>
(function(){
  const ent = document.querySelector('a-entity[gltf-model]');
  const btnF = document.getElementById('btnARFotosintesis');
  const btnC = document.getElementById('btnARCloroplasto');
  if(!ent) return;
  const SRC_F = '../assets/models/fotosintesis__bella_denisa.glb';
  const SRC_C = '../assets/models/chloroplast.glb';
  function setModel(src){
    try{
      ent.setAttribute('gltf-model', src);
    }catch(e){ console.warn('AR switch error', e); }
  }
  if(btnF){ btnF.addEventListener('click', ()=> setModel(SRC_F)); }
  if(btnC){ btnC.addEventListener('click', ()=> setModel(SRC_C)); }
})();
</script>

</body>
</html>
